<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AviaSales Казахстан</title>
  <style>
    /* --- Общие стили --- */
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f0f4f8;
      color: #2c3e50;
      transition: background 0.5s ease;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      -webkit-tap-highlight-color: transparent;
    }
    header {
      background: linear-gradient(90deg, #27496d, #487eb0);
      color: #f5f6fa;
      padding: 20px;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 100;
      will-change: transform, opacity;
    }
    nav {
      margin-top: 10px;
    }
    nav a {
      color: #f5f6fa;
      margin: 0 12px;
      text-decoration: none;
      font-weight: 600;
      font-size: 1.05rem;
      cursor: pointer;
      position: relative;
      transition: color 0.28s cubic-bezier(.2,.9,.3,1), transform 0.28s cubic-bezier(.2,.9,.3,1);
      will-change: transform, color;
      display: inline-block;
    }
    nav a::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      background: #ff6f3c;
      bottom: -6px;
      left: 50%;
      transform: translateX(-50%);
      transition: width 0.32s cubic-bezier(.2,.9,.3,1);
    }
    nav a:hover, nav a.active {
      color: #ff6f3c;
      transform: translateY(-3px);
    }
    nav a:hover::after, nav a.active::after {
      width: 60%;
    }

    main {
      padding: 40px 20px;
      max-width: 960px;
      margin: 0 auto 60px auto;
      min-height: 500px;
      /* initial fade-in as fallback */
      opacity: 0;
      transform: translateY(15px);
      animation: fadeInUp 0.6s forwards ease;
      will-change: opacity, transform;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h1, h2, h3 {
      color: #27496d;
      letter-spacing: 0.2px;
    }

    /* --- Карточки --- */
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
      gap: 24px;
      margin-top: 30px;
    }
    .card {
      background: #ffffff;
      padding: 20px;
      border-radius: 14px;
      box-shadow: 0 8px 18px rgba(39, 73, 109, 0.12);
      cursor: pointer;
      user-select: none;
      transition: box-shadow 0.36s cubic-bezier(.2,.9,.3,1), transform 0.48s cubic-bezier(.2,.9,.3,1);
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      opacity: 0;
      transform: translateY(18px) scale(0.995);
      will-change: transform, opacity;
      /* fallback (initial) animation */
      animation: fadeInUp 0.6s forwards ease;
    }
    .card:hover {
      box-shadow: 0 18px 40px rgba(39, 73, 109, 0.14);
      transform: translateY(-8px) scale(1.01);
    }
    .card img {
      width: 100%;
      border-radius: 12px;
      height: 160px;
      object-fit: cover;
      margin-bottom: 14px;
      box-shadow: 0 6px 12px rgba(0,0,0,0.08);
      transition: transform 0.5s cubic-bezier(.2,.9,.3,1);
    }
    .card:hover img {
      transform: translateY(-6px) scale(1.02);
    }
    .card h3 {
      margin: 10px 0 6px;
      font-weight: 700;
      color: #1b2a41;
      transition: color 0.3s;
    }
    .card p {
      margin: 0 0 10px;
      font-weight: 600;
      color: #ff6f3c;
      font-size: 1.1rem;
    }

    /* staggered look (visual only) */
    .cards .card:nth-child(1){ transition-delay: 0s; }
    .cards .card:nth-child(2){ transition-delay: 0.05s; }
    .cards .card:nth-child(3){ transition-delay: 0.1s; }
    .cards .card:nth-child(4){ transition-delay: 0.15s; }

    /* --- Кнопки --- */
    button, .btn {
      background: #ff6f3c;
      border: none;
      padding: 12px 28px;
      font-weight: 700;
      color: white;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.28s cubic-bezier(.2,.9,.3,1), transform 0.18s ease, box-shadow 0.28s;
      font-size: 1rem;
      box-shadow: 0 6px 12px rgba(255, 111, 60, 0.32);
      user-select: none;
      margin-top: 10px;
      will-change: transform, box-shadow;
    }
    button:hover, .btn:hover {
      background: #e25a21;
      box-shadow: 0 12px 30px rgba(226, 90, 33, 0.24);
      transform: translateY(-3px);
    }
    button:active, .btn:active {
      transform: translateY(0) scale(0.99);
      box-shadow: 0 6px 16px rgba(226, 90, 33, 0.18);
    }

    /* subtle focus-visible */
    button:focus, .btn:focus, input:focus, textarea:focus {
      outline: 3px solid rgba(255,111,60,0.12);
      outline-offset: 2px;
    }

    /* --- Модальное окно --- */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(39, 73, 109, 0.85);
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.35s ease;
      z-index: 1000;
    }
    .modal-overlay.active {
      opacity: 1;
      pointer-events: auto;
    }
    .modal {
      background: white;
      border-radius: 16px;
      max-width: 500px;
      width: 90%;
      max-height: 85vh;
      overflow-y: auto;
      padding: 30px 30px 40px;
      box-shadow: 0 20px 50px rgba(39, 73, 109, 0.3);
      transform: translateY(-40px) scale(0.995);
      transition: transform 0.35s cubic-bezier(.2,.9,.3,1), opacity 0.32s ease;
      position: relative;
      will-change: transform, opacity;
      opacity: 0;
    }
    .modal-overlay.active .modal {
      transform: translateY(0) scale(1);
      opacity: 1;
    }
    .modal h2 {
      margin-top: 0;
      color: #27496d;
      font-size: 1.8rem;
      font-weight: 800;
    }
    .modal img {
      max-width: 100%;
      height: auto;
      border-radius: 10px;
      margin-bottom: 15px;
      box-shadow: 0 6px 16px rgba(255,111,60,0.25);
    }
    .modal p {
      line-height: 1.5;
      color: #3a4756;
      font-size: 1rem;
    }
    .modal-close {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 28px;
      font-weight: 700;
      color: #888;
      cursor: pointer;
      user-select: none;
      transition: color 0.25s ease, transform 0.25s ease;
    }
    .modal-close:hover {
      color: #ff6f3c;
      transform: rotate(12deg);
    }

    /* --- Форма регистрации --- */
    form {
      margin-top: 15px;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    label {
      font-weight: 600;
      color: #27496d;
      margin-bottom: 6px;
      font-size: 0.9rem;
    }
    input, select, textarea {
      padding: 10px 12px;
      font-size: 1rem;
      border-radius: 8px;
      border: 1.8px solid #ddd;
      transition: border-color 0.28s ease, box-shadow 0.28s;
      outline-offset: 2px;
      outline-color: transparent;
      background: white;
    }
    input:focus, select:focus, textarea:focus {
      border-color: #ff6f3c;
      box-shadow: 0 6px 18px rgba(255,111,60,0.08);
    }
    .form-submit {
      align-self: flex-start;
      background: #27496d;
      color: white;
      padding: 12px 28px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 700;
      transition: background 0.3s ease;
    }
    .form-submit:hover {
      background: #487eb0;
    }
    .success-message {
      color: green;
      font-weight: 700;
      margin-top: 15px;
      font-size: 1.1rem;
    }

    /* --- Отзывы стили --- */
    .reviews {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 20px;
    }
    .review {
      background: white;
      padding: 15px 20px;
      border-radius: 12px;
      box-shadow: 0 6px 15px rgba(39, 73, 109, 0.1);
      color: #1b2a41;
      opacity: 0;
      transform: translateY(12px);
      transition: transform 0.5s cubic-bezier(.2,.9,.3,1), opacity 0.6s ease;
      will-change: transform, opacity;
    }
    .review h4 {
      margin: 0 0 8px 0;
      font-weight: 700;
      color: #27496d;
    }
    .review p {
      margin: 0;
      font-style: italic;
      color: #555;
    }

    /* --- Таблица расписания --- */
    table.schedule {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      opacity: 0;
      transform: translateY(12px);
      transition: transform 0.5s cubic-bezier(.2,.9,.3,1), opacity 0.6s ease;
      will-change: transform, opacity;
    }
    table.schedule th, table.schedule td {
      border: 1px solid #ddd;
      padding: 12px 15px;
      text-align: left;
      color: #27496d;
    }
    table.schedule th {
      background-color: #ff6f3c;
      color: white;
      font-weight: 700;
    }
    table.schedule tr:nth-child(even) {
      background-color: #f9f9f9;
    }

    /* =========== NEW: Scroll-linked animations (preferred) =========== */
    /* Use scroll-linked animations where supported (modern Chrome/Edge with feature enabled).
       If browser doesn't support, the fallback animations (opacity/transform transitions above) will still provide polished behavior. */

    /* simple generic keyframes for scroll-appearance */
    @keyframes scrollFadeUp {
      from { opacity: 0; transform: translateY(22px) scale(0.997); }
      60% { opacity: 1; transform: translateY(0) scale(1); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }

    /* gentle parallax-like movement for images inside cards on hover/focus (CSS-only) */
    .card .parallax-img {
      transition: transform 0.65s cubic-bezier(.2,.9,.3,1);
      will-change: transform;
      display: block;
    }
    .card:hover .parallax-img {
      transform: translateY(-8px) scale(1.02);
    }

    /* highlight the currently active modal and make it slightly lifted */
    .modal-overlay.active { backdrop-filter: blur(3px); }

    /* Use CSS @supports for scroll-timeline — if supported, animate upon scroll repeatedly.
       Note: exact support depends on browser; this block is harmless in browsers that don't understand these properties. */
    @supports (animation-timeline: auto) or (animation-timeline: scroll()) {
      /* define a simple auto scroll timeline */
      @scroll-timeline defaultScroll {
        source: auto;
        orientation: block;
      }

      /* Attach the timeline to elements we want to animate on each scroll appearance.
         animation-range: entry 0% exit 90% ensures animation plays while element enters viewport.
         animation-iteration-count: 1 and animation-fill-mode: both ensure smoothness; to make animations repeat
         each time element re-enters viewport some browsers support 'view-timeline' semantics — this attempts that.
      */
      .card,
      .review,
      table.schedule,
      .modal,
      main > section,
      .cards,
      header,
      footer,
      h1, h2, h3, p {
        opacity: 0;
        transform: translateY(18px) scale(0.998);
        animation-name: scrollFadeUp;
        animation-duration: 560ms;
        animation-timing-function: cubic-bezier(.2,.9,.3,1);
        animation-fill-mode: both;
        animation-timeline: defaultScroll;
        animation-range: entry 0% exit 40%;
      }

      /* slight stagger via nth-child for cards to feel elegant */
      .cards .card:nth-child(1) { animation-delay: 0ms; }
      .cards .card:nth-child(2) { animation-delay: 70ms; }
      .cards .card:nth-child(3) { animation-delay: 140ms; }
      .cards .card:nth-child(4) { animation-delay: 210ms; }

      /* reviews stagger */
      .reviews .review:nth-child(1) { animation-delay: 40ms; }
      .reviews .review:nth-child(2) { animation-delay: 120ms; }
      .reviews .review:nth-child(3) { animation-delay: 200ms; }

      /* table appears a bit later */
      table.schedule { animation-delay: 80ms; animation-duration: 640ms; }

      /* when modal overlay is active, animate modal content scale in */
      .modal-overlay.active .modal {
        animation-name: scrollFadeUp;
        animation-duration: 420ms;
        animation-timing-function: cubic-bezier(.2,.9,.3,1);
        animation-fill-mode: both;
        animation-timeline: defaultScroll;
        animation-range: entry 0% exit 60%;
      }
    }

    /* =========== Extra polish for "luxury" feel =========== */
    /* subtle gradient borders and soft glow on hover for header/footer */
    header {
      border-bottom: 1px solid rgba(255,255,255,0.04);
    }
    footer {
      display: block;
      text-align: center;
      padding: 18px 12px;
      background: linear-gradient(90deg, rgba(39,73,109,0.98), rgba(72,126,176,0.98));
      color: #fff;
      box-shadow: 0 -6px 30px rgba(39,73,109,0.06);
      margin-top: 24px;
    }

    /* small screens tweak */
    @media (max-width: 520px) {
      nav a { margin: 0 8px; font-size: 0.98rem; }
      main { padding: 24px 14px; }
      .card img { height: 140px; }
    }
  </style>
</head>
<body>

<header>
  <h2>AviaSales Казахстан</h2>
  <nav>
    <a href="#" data-page="home" class="active">Главная</a>
    <a href="#" data-page="tickets">Авиабилеты</a>
    <a href="#" data-page="countries">Популярные страны</a>
    <a href="#" data-page="reviews">Отзывы</a>
    <a href="#" data-page="schedule">Расписание рейсов</a>
    <a href="#" data-page="about">О нас</a>
    <a href="#" data-page="contact">Контакты</a>
  </nav>
</header>

<main id="content">
  <!-- Контент загружается здесь -->
</main>

<footer>
  <p>&copy; 2025 AviaSales Казахстан. Все права защищены.</p>
</footer>

<!-- Модальное окно для подробной информации -->
<div class="modal-overlay" id="modal">
  <div class="modal">
    <span class="modal-close" id="modal-close">&times;</span>
    <div id="modal-content"></div>
  </div>
</div>

<script>
  // Данные о странах
  const countryDetails = {
    france: {
      title: "Франция",
      image: "https://upload.wikimedia.org/wikipedia/commons/c/c3/Flag_of_France.svg",
      description: `
        Франция — страна с богатой историей, романтической атмосферой и уникальной культурой. 
        Париж — столица моды и искусства, а также дом для таких достопримечательностей, как Эйфелева башня, Лувр и Нотр-Дам.
        Кухня Франции славится своими сырами, винами и изысканными блюдами.
      `
    },
    italy: {
      title: "Италия",
      image: "https://upload.wikimedia.org/wikipedia/commons/0/03/Flag_of_Italy.svg",
      description: `
        Италия — это страна искусства, истории и гастрономии. 
        Венеция с её каналами, Рим с Колизеем и Ватиканом, Флоренция — центр эпохи Возрождения. 
        Итальянская кухня славится пиццей, пастой и морепродуктами.
      `
    },
    spain: {
      title: "Испания",
      image: "https://upload.wikimedia.org/wikipedia/commons/9/9a/Flag_of_Spain.svg",
      description: `
        Испания — страна с солнечным климатом, живописными пляжами и богатой культурой. 
        Барселона и Мадрид — города с уникальной архитектурой и искусством. 
        Испанская кухня известна тапас, паэльей и сангрией.
      `
    }
  };

  // Главные страницы с содержимым
  const pages = {
    home: `
      <section>
<div style="margin-top: 20px;">
  <a href="https://t.me/aviasales" target="_blank" style="margin-right: 15px; text-decoration: none;">
    <img src="https://upload.wikimedia.org/wikipedia/commons/8/83/Telegram_2019_Logo.svg" alt="Telegram" width="30" height="30">
  </a>
  <a href="https://www.instagram.com/aviasales/" target="_blank" style="margin-right: 15px; text-decoration: none;">
    <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram" width="30" height="30">
  </a>
</div>
        <h1>Добро пожаловать в AviaSales Казахстан!</h1>
        <p>У нас вы найдете лучшие предложения на авиабилеты по всему миру.</p> 
<div style="background-color: #fffbf0; padding: 20px; border-radius: 10px; margin-top: 30px; max-width: 600px;">
  <h2 style="color: #ff6600;">🔥 Горящие акции на билеты!</h2>
  <ul style="list-style: none; padding-left: 0;">
    <li style="margin-bottom: 10px;">
      ✈️ Билеты из Астаны в Пекин от <strong> 200 000 ₸</strong> — успей забронировать до конца недели!
    </li>
    <li style="margin-bottom: 10px;">
      ✈️ Костанай — Анталья со скидкой <strong>до 30%</strong> на рейсы в ноябре.
    </li>
    <li style="margin-bottom: 10px;">
      ✈️ Акция: билеты в Люксембург от <strong>700 000 ₸</strong> туда-обратно, действует до 16 ноября.
    </li>
  </ul>
</div>
<div style="max-width: 700px; margin-top: 40px; padding: 20px; background: #f9f9f9; border-radius: 10px;">
  <h2 style="color: #0077cc; margin-bottom: 20px;">Правила поведения в самолёте ✈️</h2>
  <ul style="list-style: none; padding-left: 0;">
    <li style="display: flex; align-items: center; margin-bottom: 15px;">
      <img src="https://www.biletik.aero/upload/iblock/40a/40a305b08bcff03aea284c95af6c2ad0.jpg" alt="Ремень безопасности" style="width: 40px; margin-right: 15px;">
      <span>Всегда пристёгивайте ремень безопасности во время взлёта, посадки и при предупреждениях экипажа.</span>
    </li>
    <li style="display: flex; align-items: center; margin-bottom: 15px;">
      <img src="https://fs.tonkosti.ru/6u/k2/6uk22qosmnsw4oso4o4g40o0w.jpg" alt="Запрет на курение" style="width: 40px; margin-right: 15px;">
      <span>Курение на борту строго запрещено, включая электронные сигареты.</span>
    </li>
    <li style="display: flex; align-items: center; margin-bottom: 15px;">
      <img src="https://uniticket.ru/wp-content/uploads/2023/03/pochemu-telefon-v-samolete-nuzhno-otklyuchat1-1024x768.jpeg" alt="Режим телефона" style="width: 40px; margin-right: 15px;">
      <span>Переводите мобильные устройства в режим полёта во время всего полёта.</span>
    </li>
    <li style="display: flex; align-items: center; margin-bottom: 15px;">
      <img src="https://cdn.stolichki.ru/s/media/articles/52c2e16a0d4aebbc6f74133fdd8ff603.jpg" alt="Тихо" style="width: 40px; margin-right: 15px;">
      <span>Уважайте покой других пассажиров и экипажа, избегайте громких разговоров и шума.</span>
    </li>
  </ul>
</div>
<div style="text-align: center; margin: 20px 0;">
  <iframe width="640" height="360" src="https://www.youtube.com/embed/9HuM5lsPN-I" 
    title="YouTube video player" frameborder="0" 
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
    allowfullscreen></iframe>
  <p style="font-size: 18px; font-weight: bold; margin-top: 10px;">
    Взлетай легко, садись мягко — а мы позаботимся о билетах! ✈️😉
  </p>
</div>

    `,
    tickets: `
      <section>
        <h2>Поиск авиабилетов</h2>
        <form id="ticket-search-form">
          <label for="from">Откуда:</label>
          <input type="text" id="from" name="from" placeholder="Город отправления" required />

          <label for="to">Куда:</label>
          <input type="text" id="to" name="to" placeholder="Город назначения" required />

          <label for="date">Дата вылета:</label>
          <input type="date" id="date" name="date" required />

          <button type="submit">Найти билеты</button>
        </form>
        <div id="ticket-results"></div>
      </section>
    `,
    countries: `
      <section>
        <h2>Популярные страны</h2>
        <div class="cards" id="countries-list">
          <div class="card" data-country="france">
            <img class="parallax-img" src="https://upload.wikimedia.org/wikipedia/commons/c/c3/Flag_of_France.svg" alt="Флаг Франции" />
            <h3>Франция</h3>
            <p>От 150 000 ₸</p>
          </div>
          <div class="card" data-country="italy">
            <img class="parallax-img" src="https://upload.wikimedia.org/wikipedia/commons/0/03/Flag_of_Italy.svg" alt="Флаг Италии" />
            <h3>Италия</h3>
            <p>От 140 000 ₸</p>
          </div>
          <div class="card" data-country="spain">
            <img class="parallax-img" src="https://upload.wikimedia.org/wikipedia/commons/9/9a/Flag_of_Spain.svg" alt="Флаг Испании" />
            <h3>Испания</h3>
            <p>От 135 000 ₸</p>
          </div>
        </div>
      </section>
    `,
    reviews: `
      <section>
        <h2>Отзывы наших клиентов</h2>
        <div class="reviews">
          <div class="review">
            <h4>Алихан К.</h4>
            <p>Очень удобно, безмерно благодарен! Самый лучший сервис. 10000/10 Спасибо Aйнурочке!</p>
          </div>
          <div class="review">
            <h4>Алишер Х.</h4>
            <p>Отличный сервис и поддержка 24/7, всегда помогают. Полетели со своим огромным котом</p>
          </div>
          <div class="review">
            <h4>Кирилл Х.</h4>
            <p>Хорошие цены и понятный интерфейс сайта. Рекомендую! Благодаря сервису, попали в один самолет с бывшей. Сошлись, рекомендую!</p>
          </div>
           <div class="review">
            <h4>Ростислав З.</h4>
            <p>Благодаря Айнур, нашел быстро билеты в кротчайшие сроки!! хочу теперь вновь приобрести билеты и слетать в Италию со своей любимой</p>
          </div>
           <div class="review">
            <h4>СултанМахмут С.</h4>
            <p>Обязательно порекомендую данный сервис своим знакомым! Слетали в отличное путешествие со своей второй половинкой. Спасибо!</p>
          </div>
          <div class="review">
            <h4>Алишер К.</h4>
            <p>Обязательно порекомендую данный сервис своим знакомым! Слетали в отличное путешествие со своей второй половинкой. Спасибо!</p>
          </div>
          </div>
        </div>
      </section>
    `,
    schedule: `
      <section>
        <h2>Расписание рейсов</h2>
        <p>Ниже вы можете увидеть пример расписания ближайших рейсов:</p>
        <table class="schedule">
          <thead>
            <tr>
              <th>Рейс</th>
              <th>Откуда</th>
              <th>Куда</th>
              <th>Время вылета</th>
              <th>Время прилёта</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>SU123</td>
              <td>Алматы</td>
              <td>Москва</td>
              <td>10:00</td>
              <td>14:30</td>
            </tr>
            <tr>
              <td>TK456</td>
              <td>Нур-Султан</td>
              <td>Стамбул</td>
              <td>12:15</td>
              <td>17:00</td>
            </tr>
            <tr>
              <td>BA789</td>
              <td>Алматы</td>
              <td>Лондон</td>
              <td>15:45</td>
              <td>21:10</td>
            </tr>
          </tbody>
        </table>
      </section>
    `,
    about: `
      <section>
        <h2>О нас</h2>
        <p>AviaSales Казахстан — это удобный сервис для поиска и бронирования авиабилетов по лучшим ценам.</p>
        <p>Мы помогаем путешественникам быстро находить подходящие рейсы и экономить время и деньги.</p>
          <h3>Наш адрес</h3>
  <p>г. Нур-Султан, ул.Нарикбаева 2 </p>
  
  
  <!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Карта на сайте</title>
</head>
<body>

  <h2>Наш офис</h2>
<iframe
  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2923.6043756682185!2d71.42473537641012!3d51.103942043804775!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x424580c8e681b9d7%3A0x8f8881b1f3b1769e!2z0YPQuy4g0J3QtdC90LjQvdGB0LrQuNC5INCY0L7RgtGL0LkgMiwg0KTQsNC70YzQvdC-0LLQsCwg0JrQvtC70YDQuNC90Lw!5e0!3m2!1sru!2skz!4v1697389000000!5m2!1sru!2skz"
  width="600"
  height="450"
  style="border:0;"
  allowfullscreen=""
  loading="lazy"
  referrerpolicy="no-referrer-when-downgrade"
></iframe>
</body>
</html>
      </section>
    `,
    contact: `
      <section>
        <h2>Контакты</h2>
        <p>Свяжитесь с нами через форму ниже, и мы ответим вам в кратчайшие сроки.</p>
        <form id="contact-form">
          <label for="name">Ваше имя:</label>
          <input type="text" id="name" name="name" placeholder="Введите имя" required />

          <label for="email">Email:</label>
          <input type="email" id="email" name="email" placeholder="Введите email" required />

          <label for="message">Сообщение:</label>
          <textarea id="message" name="message" placeholder="Ваше сообщение" rows="4" required></textarea>

          <button type="submit">Отправить</button>
        </form>
        <div id="contact-success" style="color: green; margin-top: 15px; display:none;">
          Спасибо! Ваше сообщение отправлено.
        </div>
      </section>
    `
  };

  // DOM элементы
  const content = document.getElementById('content');
  const navLinks = document.querySelectorAll('nav a');
  const modal = document.getElementById('modal');
  const modalContent = document.getElementById('modal-content');
  const modalCloseBtn = document.getElementById('modal-close');

  // Функция смены страницы
  function loadPage(page) {
    // Обновляем активный пункт меню
    navLinks.forEach(link => {
      if (link.dataset.page === page) {
        link.classList.add('active');
      } else {
        link.classList.remove('active');
      }
    });

    // Загружаем контент
    content.innerHTML = pages[page] || '<p>Страница не найдена.</p>';

    // После загрузки контента — навесим обработчики, если нужно
    if (page === 'countries') {
      setupCountryCards();
    }
    if (page === 'tickets') {
      setupTicketSearch();
    }
    if (page === 'contact') {
      setupContactForm();
    }

    // Accessibility: move focus to main content for keyboard users
    content.setAttribute('tabindex', '-1');
    content.focus({ preventScroll: true });
  }

  // Обработчик для карточек стран
  function setupCountryCards() {
    const cards = document.querySelectorAll('#countries-list .card');
    cards.forEach(card => {
      card.style.opacity = '0';
      // анимация появления с задержкой (fallback for non-scroll-timeline browsers)
      setTimeout(() => {
        card.style.opacity = '1';
        card.style.animation = 'fadeInUp 0.5s forwards ease';
      }, 150);

      card.addEventListener('click', () => {
        const countryKey = card.dataset.country;
        const country = countryDetails[countryKey];
        if (country) {
          openModal(`
            <h2>${country.title}</h2>
            <img src="${country.image}" alt="Флаг ${country.title}" />
            <p>${country.description.trim()}</p>
            <button class="btn" id="buy-ticket-btn">Купить билет</button>
          `);

          // Обработчик кнопки "Купить билет"
          document.getElementById('buy-ticket-btn').addEventListener('click', () => {
            showTicketForm(country.title);
          });
        }
      });
    });
  }

  // Открыть модальное окно
  function openModal(html) {
    modalContent.innerHTML = html;
    modal.classList.add('active');
  }

  // Закрыть модальное окно
  function closeModal() {
    modal.classList.remove('active');
    modalContent.innerHTML = '';
  }
  modalCloseBtn.addEventListener('click', closeModal);
  modal.addEventListener('click', e => {
    if (e.target === modal) closeModal();
  });

  // Показать форму покупки билета в модальном окне
  function showTicketForm(destination = '') {
    const formHTML = `
      <h2>Покупка билета в ${destination}</h2>
      <form id="purchase-form">
        <label for="passenger-name">Ваше имя:</label>
        <input type="text" id="passenger-name" name="passenger-name" placeholder="Введите имя" required />
        
        <label for="passenger-email">Email:</label>
        <input type="email" id="passenger-email" name="passenger-email" placeholder="Введите email" required />

        <label for="departure-date">Дата вылета:</label>
        <input type="date" id="departure-date" name="departure-date" required />

        <button type="submit">Купить билет</button>
      </form>
      <div id="purchase-success" style="color: green; margin-top: 15px; display:none;">
        Спасибо за покупку! Мы свяжемся с вами для подтверждения.
      </div>
    `;
    modalContent.innerHTML = formHTML;

    const purchaseForm = document.getElementById('purchase-form');
    const successMessage = document.getElementById('purchase-success');

    purchaseForm.addEventListener('submit', e => {
      e.preventDefault();

      // Валидация - простая, так как required уже на инпутах
      successMessage.style.display = 'block';
      purchaseForm.style.display = 'none';
    });
  }

  // Настройка формы поиска билетов
  function setupTicketSearch() {
    const form = document.getElementById('ticket-search-form');
    const results = document.getElementById('ticket-results');

    form.addEventListener('submit', e => {
      e.preventDefault();

      const from = form.from.value.trim();
      const to = form.to.value.trim();
      const date = form.date.value;

      // Очень простой "поиск"
      results.innerHTML = `<p>Поиск билетов из <strong>${from}</strong> в <strong>${to}</strong> на <strong>${date}</strong>...</p>`;

      // Пример вывода результата
      setTimeout(() => {
        results.innerHTML += `
          <ul>
            <li>Рейс 1: ${from} → ${to} в ${date} в 10:00</li>
            <li>Рейс 2: ${from} → ${to} в ${date} в 15:30</li>
          </ul>
        `;
      }, 1000);
    });
  }

  // Настройка формы контактов
  function setupContactForm() {
    const form = document.getElementById('contact-form');
    const successDiv = document.getElementById('contact-success');

    form.addEventListener('submit', e => {
      e.preventDefault();

      // Здесь можно добавить отправку на сервер через fetch, сейчас просто показ успеха
      successDiv.style.display = 'block';
      form.reset();
    });
  }

  // Обработка кликов по меню
  navLinks.forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const page = link.dataset.page;
      loadPage(page);
    });
  });

  // Загрузка главной страницы по умолчанию
  loadPage('home');
</script>

</body>
</html>
